<template>
  <div class="product" :class="{ minified: minified }">
    <div class="inner" @touchstart="hover(true)" @mouseenter="hover(true)">
      <Transition name="tr-fade">
        <div
          v-if="paymentVisible && hovering"
          class="panel"
          @mouseleave="hover(false)"
        >
          <div class="logo" :style="`--logo-bg: ${themes[theme].colorB}`">
            <span class="dur">{{ product.durationInDays }}</span>
            <span class="sub">days</span>
          </div>
          <div v-if="user" class="option">
            <button class="nude disabled">
              <AppIcon icon="phone_android"></AppIcon><span>휴대폰 결제</span>
            </button>
            <button class="nude" @click="dispatchOrder('card')">
              <AppIcon icon="credit_card"></AppIcon><span>신용카드</span>
            </button>
          </div>
          <div v-else class="option">
            <div class="login">
              <p>로그인 후 구매 가능합니다.</p>
              <FormButton text="로그인" @click="$router.push('/')" />
            </div>
          </div>
        </div>
      </Transition>
      <div class="bg red">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:svgjs="http://svgjs.dev/svgjs"
          viewBox="0 0 1400 800"
        >
          <defs>
            <filter
              :id="`uuunion-blur-${theme}`"
              x="-100%"
              y="-100%"
              width="400%"
              height="400%"
              color-interpolation-filters="sRGB"
            >
              <feGaussianBlur
                in="SourceGraphic"
                stdDeviation="0 0"
                result="blur"
              ></feGaussianBlur>
              <feDropShadow
                stdDeviation="0"
                in="blur"
                dx="0"
                dy="0"
                :flood-color="themes[theme].colorB"
                flood-opacity="0"
                x="0%"
                y="0%"
                width="100%"
                height="100%"
              ></feDropShadow>
            </filter>
            <filter
              :id="`uuunion-blur2-${theme}`"
              x="-100%"
              y="-100%"
              width="400%"
              height="400%"
              color-interpolation-filters="sRGB"
            >
              <feGaussianBlur
                in="SourceGraphic"
                stdDeviation="0 0"
                result="blur"
              ></feGaussianBlur>
              <feDropShadow
                stdDeviation="0"
                in="blur"
                dx="-0"
                dy="-0"
                :flood-color="themes[theme].colorB"
                flood-opacity="0"
                x="0%"
                y="0%"
                width="100%"
                height="100%"
              ></feDropShadow>
            </filter>
            <linearGradient
              gradientTransform="rotate(0, 0.5, 0.5)"
              x1="50%"
              y1="0%"
              x2="50%"
              y2="100%"
              :id="`uuunion-grad-${theme}`"
            >
              <stop :stop-color="themes[theme].colorA" offset="10%"></stop>
              <stop :stop-color="themes[theme].colorB" offset="90%"></stop>
            </linearGradient>
            <linearGradient
              gradientTransform="rotate(0, 0.5, 0.5)"
              x1="50%"
              y1="0%"
              x2="50%"
              y2="100%"
              :id="`uuunion-grad2-${theme}`"
            >
              <stop :stop-color="themes[theme].colorA" offset="25%"></stop>
              <stop :stop-color="themes[theme].colorB" offset="100%"></stop>
            </linearGradient>
            <linearGradient
              gradientTransform="rotate(0, 0.5, 0.5)"
              x1="50%"
              y1="0%"
              x2="50%"
              y2="100%"
              :id="`uuunion-grad3-${theme}`"
            >
              <stop :stop-color="themes[theme].colorA" offset="0%"></stop>
              <stop :stop-color="themes[theme].colorB" offset="75%"></stop>
            </linearGradient>
          </defs>

          <path
            d="M-129.82 -88.24Q-116.88 -88.47 -103.94 -87.85 -91 -86.45 -78.07 -84.4 -65.13 -81.91 -52.19 -79.23 -39.25 -76.63 -26.31 -74.36 -13.37 -72.66 -0.43 -71.68 12.49 -71.54 25.43 -72.25 38.37 -73.72 51.31 -75.83 64.25 -78.35 77.19 -81.03 90.12 -83.61 103.06 -85.83 116 -87.47 128.94 -88.36 141.88 -88.41 154.82 -87.63 167.76 -86.08 180.69 -83.92 193.63 -81.37 206.57 -78.69 219.51 -76.13 232.45 -73.96 245.39 -72.39 258.33 -71.59 271.26 -71.62 284.2 -72.49 297.14 -74.11 310.08 -76.32 323.02 -78.89 335.96 -81.58 348.89 -84.1 361.83 -86.22 374.77 -87.72 387.71 -88.44 400.65 -88.32 413.59 -87.37 426.53 -85.68 439.46 -83.42 452.4 -80.82 465.34 -78.14 478.28 -75.65 491.22 -73.58 504.16 -72.16 517.1 -71.52 530.03 -71.73 542.97 -72.76 555.91 -74.52 568.85 -76.82 581.79 -79.44 594.73 -82.12 607.67 -84.58 620.6 -86.58 633.54 -87.93 646.48 -88.48 659.42 -88.19 672.36 -87.08 685.3 -85.26 698.24 -82.91 711.17 -80.27 724.11 -77.61 737.05 -75.18 749.99 -73.23 762.93 -71.96 775.87 -71.5 788.8 -71.88 801.74 -73.07 814.68 -74.95 827.62 -77.34 840.56 -79.99 853.5 -82.65 866.44 -85.03 879.37 -86.92 892.31 -88.11 905.25 -88.49 918.19 -88.03 931.13 -86.76 944.07 -84.81 957.01 -82.39 969.94 -79.72 982.88 -77.08 995.82 -74.74 1008.76 -72.91 1021.7 -71.8 1034.64 -71.51 1047.58 -72.06 1060.51 -73.4 1073.45 -75.41 1086.39 -77.87 1099.33 -80.55 1112.27 -83.17 1125.21 -85.47 1138.15 -87.22 1151.08 -88.26 1164.02 -88.47 1176.96 -87.83 1189.9 -86.41 1202.84 -84.35 1215.78 -81.85 1228.72 -79.17 1241.66 -76.57 1254.59 -74.31 1267.53 -72.62 1280.47 -71.67 1293.41 -71.55 1306.35 -72.27 1319.29 -73.77 1332.23 -75.88 1345.16 -78.41 1358.1 -81.1 1371.04 -83.67 1383.98 -85.88 1396.92 -87.5 1409.86 -88.37 1422.8 -88.4 1435.73 -87.6 1448.67 -86.03 1461.61 -83.86 1474.55 -81.31 1487.49 -78.62 1500.43 -76.07 1513.37 -73.91 1526.3 -72.36 1529.44 -57.11 1534.89 -41.86 1542.29 -26.61 1551.15 -11.35 1560.87 3.89 1570.82 19.14 1580.32 34.39 1588.75 49.65 1595.55 64.9 1600.26 80.15 1602.58 95.4 1602.34 110.66 1599.56 125.91 1594.43 141.16 1587.29 156.41 1578.62 171.67 1568.98 186.92 1559.03 202.17 1549.42 217.42 1540.79 232.68 1533.72 247.93 1528.68 263.18 1526 278.43 1525.85 293.69 1528.26 308.94 1533.06 324.19 1539.93 339.44 1548.42 354.69 1557.95 369.95 1567.9 385.2 1577.6 400.45 1586.41 415.7 1593.74 430.96 1599.11 446.21 1602.16 461.46 1602.68 476.71 1600.64 491.97 1596.17 507.22 1589.58 522.47 1581.3 537.72 1571.89 552.98 1561.96 568.23 1552.18 583.48 1543.2 598.73 1535.61 613.99 1529.93 629.24 1526.53 644.49 1525.63 659.74 1527.29 675 1531.42 690.25 1537.72 705.5 1545.78 720.75 1555.07 736.01 1564.96 751.26 1574.8 766.51 1583.94 781.76 1591.77 797.02 1597.76 812.27 1601.51 827.52 1602.79 842.77 1601.5 858.03 1597.73 873.28 1591.72 888.53 1583.89 903.78 1570.36 898.95 1556.82 892.23 1543.29 884.28 1529.75 875.9 1516.21 867.93 1502.68 861.17 1489.14 856.29 1475.61 853.78 1462.07 853.88 1448.54 856.6 1435 861.65 1421.47 868.54 1407.93 876.57 1394.4 884.94 1380.86 892.82 1367.33 899.41 1353.79 904.07 1340.26 906.32 1326.72 905.95 1313.18 902.98 1299.65 897.71 1286.11 890.67 1272.58 882.57 1259.04 874.21 1245.51 866.43 1231.97 860 1218.44 855.57 1204.9 853.58 1191.37 854.23 1177.83 857.46 1164.3 862.93 1150.76 870.11 1137.23 878.28 1123.69 886.62 1110.15 894.3 1096.62 900.54 1083.08 904.74 1069.55 906.46 1056.01 905.54 1042.48 902.07 1028.94 896.39 1015.41 889.07 1001.87 880.85 988.34 872.54 974.8 864.98 961.27 858.91 947.73 854.95 934.2 853.5 920.66 854.69 907.13 858.41 893.59 864.28 880.05 871.73 866.52 880 852.98 888.27 839.45 895.72 825.91 901.59 812.38 905.3 798.84 906.49 785.31 905.03 771.77 901.07 758.24 895 744.7 887.44 731.17 879.13 717.63 870.91 704.1 863.59 690.56 857.91 677.03 854.44 663.49 853.53 649.96 855.25 636.42 859.45 622.88 865.7 609.35 873.38 595.81 881.72 582.28 889.89 568.74 897.07 555.21 902.54 541.67 905.76 528.14 906.41 514.6 904.41 501.07 899.98 487.53 893.55 474 885.77 460.46 877.41 446.93 869.31 433.39 862.27 419.86 857.01 406.32 854.04 392.79 853.67 379.25 855.92 365.72 860.58 352.18 867.18 338.64 875.06 325.11 883.44 311.57 891.46 298.04 898.35 284.5 903.4 270.97 906.11 257.43 906.21 243.9 903.69 230.36 898.81 216.83 892.05 203.29 884.08 189.76 875.7 176.22 867.76 162.69 861.03 149.15 856.2 135.62 853.75 122.08 853.92 108.55 856.69 95.01 861.8 81.48 868.72 67.94 876.76 54.41 885.13 40.87 892.99 27.33 899.55 13.8 904.15 0.26 906.35 -13.26 905.91 -26.8 902.88 -40.33 897.56 -53.87 890.49 -67.4 882.37 -80.94 874.01 -94.47 866.26 -108.01 859.87 -121.54 855.49 -135.08 853.57 -148.61 854.28 -151.17 839.55 -153.13 824.83 -154.36 810.1 -154.78 795.37 -154.36 780.64 -153.14 765.92 -151.18 751.19 -148.63 736.46 -145.65 721.74 -142.43 707.01 -139.21 692.28 -136.18 677.55 -133.54 662.83 -131.49 648.1 -130.14 633.37 -129.6 618.65 -129.89 603.92 -131 589.19 -132.86 574.46 -135.33 559.74 -138.26 545.01 -141.46 530.28 -144.7 515.56 -147.77 500.83 -150.47 486.1 -152.62 471.38 -154.08 456.65 -154.74 441.92 -154.57 427.19 -153.58 412.47 -151.83 397.74 -149.44 383.01 -146.56 368.29 -143.39 353.56 -140.15 338.83 -137.04 324.1 -134.27 309.38 -132.03 294.65 -130.46 279.92 -129.67 265.2 -129.72 250.47 -130.59 235.74 -132.24 221.02 -134.55 206.29 -137.36 191.56 -140.5 176.83 -143.75 162.11 -146.89 147.38 -149.72 132.65 -152.05 117.93 -153.73 103.2 -154.63 88.47 -154.71 73.74 -153.96 59.02 -152.42 44.29 -150.2 29.56 -147.45 14.84 -144.35 0.11 -141.1 -14.61 -137.93 -29.34 -135.04 -44.06 -132.62 -58.79 -130.84 -73.52 -129.82 -88.24"
            :fill="`url(#uuunion-grad-${theme})`"
          ></path>
          <path
            d="M-129.83 -88.24Q-130.85 -73.52 -132.63 -58.79 -135.05 -44.06 -137.94 -29.33 -141.11 -14.61 -144.36 0.11 -147.46 14.84 -150.21 29.56 -152.43 44.29 -153.97 59.02 -154.72 73.75 -154.64 88.47 -153.74 103.2 -152.06 117.93 -149.73 132.65 -146.9 147.38 -143.76 162.11 -140.51 176.83 -137.37 191.56 -134.56 206.29 -132.25 221.02 -130.6 235.74 -129.73 250.47 -129.68 265.2 -130.47 279.92 -132.04 294.65 -134.28 309.38 -137.05 324.11 -140.16 338.83 -143.4 353.56 -143.49 375.4 -131.36 382.77 -122.32 383.81 -113.28 385.57 -104.24 387.98 -95.2 390.92 -86.16 394.26 -77.12 397.86 -68.08 401.56 -59.04 405.19 -49.99 408.58 -40.95 411.59 -31.91 414.09 -22.87 415.95 -5.78 417.39 -2.77 417.48 8.87 413.47 20.49 408.33 32.09 402.19 43.67 395.27 55.23 387.83 66.75 380.19 78.25 372.65 89.72 365.52 101.15 359.08 112.55 353.54 123.92 349.06 135.25 345.75 146.55 343.59 157.8 342.51 169.03 342.37 180.21 342.96 191.36 344 202.47 345.21 213.54 346.29 224.58 346.95 235.59 346.93 246.56 346.02 257.5 344.06 268.41 341 279.3 336.83 290.15 331.64 300.98 325.57 311.79 318.83 322.58 311.68 333.35 304.4 344.11 297.28 354.85 290.59 365.59 284.58 376.31 279.44 387.04 275.31 397.76 272.24 408.48 270.22 419.21 269.18 429.95 268.95 440.7 269.34 451.46 270.08 462.23 270.93 473.03 271.59 483.85 271.81 494.69 271.36 505.56 270.05 516.46 267.79 527.4 264.5 538.36 260.21 549.37 255 560.41 249.04 571.49 242.51 582.62 235.67 593.79 228.77 605 222.07 616.26 215.81 627.57 210.22 638.92 205.45 650.33 201.62 661.78 198.76 673.28 196.84 684.82 195.78 696.41 195.43 708.05 195.58 719.74 196.02 731.47 196.48 743.24 196.72 755.06 196.51 766.91 195.65 778.8 193.99 790.73 191.44 802.68 187.97 814.67 183.6 826.69 178.43 838.73 172.61 850.79 166.33 862.87 159.82 874.96 153.3 887.06 147.02 899.17 141.19 911.28 135.99 923.39 131.56 935.49 127.99 947.58 125.29 959.66 123.43 971.72 122.32 983.76 121.8 995.77 121.7 1007.75 121.79 1019.69 121.86 1031.6 121.69 1043.46 121.06 1055.27 119.82 1067.04 117.85 1078.74 115.05 1090.39 111.43 1101.98 107.03 1113.5 101.94 1124.95 96.3 1136.33 90.29 1147.63 84.12 1158.86 77.99 1170.01 72.13 1181.07 66.7 1192.06 61.87 1202.96 57.75 1213.77 54.4 1224.49 51.82 1235.13 49.98 1245.68 48.77 1256.14 48.06 1266.51 47.67 1276.8 47.41 1287 47.09 1297.11 46.5 1307.14 45.48 1317.09 43.89 1326.96 41.62 1336.76 38.63 1346.47 34.91 1356.12 30.51 1365.7 25.53 1375.22 20.1 1384.68 14.39 1394.08 8.58 1403.43 2.85 1412.73 -2.6 1422 -7.64 1411.79 -24.89 1402.51 -42.14 1394.99 -59.39 1389.91 -76.64 1387.73 -93.89 1388.65 -111.14 1389.83 -136.2 1375.02 -142.06 1362.96 -139.93 1350.89 -137.8 1338.82 -135.86 1326.76 -134.27 1314.69 -133.17 1302.62 -132.65 1290.56 -132.76 1278.49 -133.49 1266.42 -134.77 1254.36 -136.5 1242.29 -138.52 1230.22 -140.67 1218.16 -142.77 1206.09 -144.62 1194.02 -146.09 1181.96 -147.03 1169.89 -147.37 1157.82 -147.08 1145.76 -146.19 1133.69 -144.77 1121.62 -142.94 1109.55 -140.86 1097.49 -138.71 1085.42 -136.67 1073.35 -134.91 1061.29 -133.58 1049.22 -132.8 1037.15 -132.64 1025.09 -133.1 1013.02 -134.15 1000.95 -135.7 988.89 -137.62 976.82 -139.74 964.75 -141.88 952.69 -143.86 940.62 -145.51 928.55 -146.69 916.49 -147.3 904.42 -147.28 892.35 -146.65 880.29 -145.44 868.22 -143.77 856.15 -141.78 844.09 -139.64 832.02 -137.53 819.95 -135.62 807.89 -134.09 795.82 -133.07 783.75 -132.63 771.69 -132.83 759.62 -133.63 747.55 -134.98 735.48 -136.75 723.42 -138.81 711.35 -140.96 699.28 -143.03 687.22 -144.85 675.15 -146.24 663.08 -147.11 651.02 -147.37 638.95 -147 626.88 -146.03 614.82 -144.55 602.75 -142.67 590.68 -140.57 578.62 -138.42 566.55 -136.41 554.48 -134.7 542.42 -133.44 530.35 -132.74 518.28 -132.66 506.22 -133.21 494.15 -134.33 482.08 -135.94 470.02 -137.9 457.95 -140.03 445.88 -142.16 433.82 -144.1 421.75 -145.7 409.68 -146.81 397.61 -147.33 385.55 -147.23 373.48 -146.52 361.41 -145.24 349.35 -143.52 337.28 -141.5 325.21 -139.35 313.15 -137.25 301.08 -135.39 289.01 -133.92 276.95 -132.97 264.88 -132.62 252.81 -132.9 240.75 -133.78 228.68 -135.19 216.61 -137.02 204.55 -139.09 192.48 -141.25 180.41 -143.29 168.35 -145.06 156.28 -146.39 144.21 -147.18 132.15 -147.35 120.08 -146.9 108.01 -145.86 95.95 -144.31 83.88 -142.4 71.81 -140.28 59.74 -138.14 47.68 -136.16 35.61 -134.5 23.54 -133.31 11.48 -132.7 -0.58 -132.7 -12.65 -133.33 -24.71 -134.52 -36.78 -136.19 -48.85 -138.17 -60.91 -140.32 -72.98 -142.43 -85.05 -144.34 -97.11 -145.88 -109.18 -146.91 -121.25 -147.36 -136.82 -139.52 -135.99 -117.35 -132.49 -102.81 -129.83 -88.24"
            :fill="`url(#uuunion-grad2-${theme})`"
            :filter="`url(#uuunion-blur-${theme})`"
          ></path>
          <path
            d="M1398.2 307.76Q1415.6 304.95 1433.01 304.17 1441.71 305.01 1450.41 306.52 1459.12 308.63 1467.82 311.25 1476.52 314.26 1485.22 317.52 1493.93 320.9 1502.63 324.23 1511.33 327.38 1520.03 330.2 1528.74 332.56 1537.44 334.36 1546.91 352.15 1557.95 369.95 1569.55 387.74 1580.67 405.54 1590.3 423.33 1597.57 441.13 1601.82 458.92 1602.68 476.71 1600.06 494.51 1594.19 512.3 1585.62 530.1 1575.11 547.89 1563.62 565.69 1552.18 583.48 1541.82 601.28 1533.49 619.07 1527.93 636.87 1525.64 654.66 1526.84 672.45 1531.42 690.25 1538.95 708.04 1548.77 725.84 1559.98 743.63 1571.57 761.43 1582.49 779.22 1591.77 797.02 1598.55 814.81 1602.22 832.61 1602.46 850.4 1599.25 868.2 1592.86 885.99 1583.89 903.78 1571.48 899.43 1559.06 893.44 1546.65 886.32 1534.23 878.67 1521.81 871.13 1509.4 864.33 1496.98 858.86 1484.57 855.16 1472.15 853.55 1459.74 854.17 1447.32 856.96 1434.91 861.69 1422.49 867.96 1410.08 875.25 1397.66 882.93 1385.25 890.37 1372.83 896.93 1360.42 902.07 1348 905.35 1335.58 906.49 1323.17 905.41 1310.75 902.19 1298.34 897.09 1285.92 890.56 1273.51 883.14 1261.09 875.46 1248.68 868.15 1236.26 861.85 1223.85 857.07 1211.43 854.22 1199.02 853.54 1186.6 855.08 1174.19 858.73 1161.77 864.16 1149.35 870.93 1136.94 878.46 1124.52 886.12 1112.11 893.26 1099.69 899.29 1087.28 903.69 1074.86 906.1 1062.45 906.31 1050.03 904.31 1037.62 900.26 1025.2 894.5 1012.79 887.53 1000.37 879.92 987.96 872.31 975.54 865.36 963.12 859.63 950.71 855.62 938.29 853.66 925.88 853.92 913.46 856.37 901.05 860.81 888.63 866.87 876.22 874.03 863.8 881.69 851.39 889.21 838.97 895.95 826.56 901.35 814.14 904.96 801.73 906.46 789.31 905.74 776.89 902.84 764.48 898.03 752.06 891.7 739.65 884.38 727.23 876.69 714.82 869.28 702.4 862.78 689.99 857.72 677.57 854.54 665.16 853.5 652.74 854.69 640.33 858.01 627.91 863.18 615.5 869.77 603.08 877.21 590.66 884.9 578.25 892.16 565.83 898.41 553.42 903.1 541 905.85 528.59 906.43 516.17 904.78 503.76 901.04 491.34 895.53 478.93 888.71 466.51 881.16 454.1 873.52 441.68 866.41 429.27 860.45 416.85 856.14 404.43 853.83 392.02 853.73 379.6 855.83 367.19 859.97 354.77 865.8 342.36 872.82 329.94 880.44 317.53 888.03 305.11 894.94 292.7 900.59 280.28 904.51 267.87 906.37 255.45 906 243.04 903.45 230.62 898.92 218.2 892.8 205.79 885.6 193.37 877.93 180.96 870.44 168.54 863.74 156.13 858.42 143.71 854.91 131.3 853.51 118.88 854.34 106.47 857.34 94.05 862.23 81.64 868.63 69.22 875.98 56.81 883.66 44.39 891.04 31.97 897.49 19.56 902.47 0.35 900.93 -7.44 886.11 -8.26 875.93 -8.86 865.74 -9.23 855.55 -9.35 845.36 -8.79 830.08 -7.84 825 5.34 817.53 18.57 808 31.84 796.7 45.12 784.1 58.4 770.76 71.66 757.31 84.9 744.39 98.09 732.56 111.24 722.32 124.31 713.99 137.32 707.74 150.25 703.55 163.09 701.21 175.85 700.37 188.52 700.54 201.11 701.14 213.61 701.57 226.03 701.25 238.38 699.67 250.66 696.42 262.89 691.27 275.07 684.14 287.21 675.12 299.34 664.48 311.46 652.61 323.58 640.03 335.71 627.3 347.88 614.98 360.09 603.6 372.35 593.6 384.67 585.3 397.08 578.85 409.56 574.25 422.13 571.34 434.8 569.81 447.57 569.23 460.43 569.08 473.4 568.84 486.46 567.97 499.61 566.02 512.85 562.62 526.16 557.53 539.54 550.67 552.97 542.13 566.45 532.11 579.95 520.97 593.46 509.14 606.96 497.13 620.44 485.44 633.87 474.54 647.25 464.83 660.54 456.59 673.74 450 686.83 445.04 699.79 441.6 712.61 439.4 725.27 438.08 737.77 437.19 750.1 436.26 762.25 434.82 774.21 432.46 785.99 428.85 797.59 423.77 809.02 417.15 818.62 414.63 828.21 411.27 837.78 407.18 847.34 402.52 856.88 397.47 866.41 392.22 875.93 387.01 885.43 382.02 894.91 377.48 904.38 373.54 913.84 370.35 923.28 368.02 932.7 366.59 942.11 366.07 951.51 366.43 960.89 367.57 970.26 369.37 979.61 371.65 988.95 374.24 998.27 376.93 1007.58 379.5 1016.87 381.75 1026.15 383.5 1035.42 384.6 1044.67 384.9 1053.91 384.35 1063.14 382.89 1072.36 380.55 1081.56 377.38 1090.75 373.49 1099.92 369.03 1109.09 364.16 1118.24 359.08 1127.39 353.99 1136.52 349.09 1145.64 344.59 1154.75 340.66 1163.85 337.42 1172.94 335 1182.02 333.44 1191.09 332.76 1200.15 332.94 1209.21 333.88 1218.25 335.48 1227.29 337.58 1236.32 339.99 1245.35 342.53 1254.37 344.98 1263.38 347.17 1272.39 348.89 1281.39 350 1290.39 350.37 1299.39 349.91 1308.38 348.6 1317.36 346.42 1326.35 343.45 1335.33 339.76 1344.31 335.49 1353.29 330.8 1362.27 325.88 1371.25 320.93 1380.23 316.13 1389.21 311.69 1398.2 307.76"
            :fill="`url(#uuunion-grad3-${theme})`"
            :filter="`url(#uuunion-blur2-${theme})`"
          ></path>
        </svg>
      </div>
      <div class="logo" :style="`--logo-bg: ${themes[theme].colorB}`">
        <span class="dur">{{ product.durationInDays }}</span>
        <span class="sub">days</span>
      </div>
      <div class="detail">
        <h3 class="base-price" v-if="product.discountKrWon > 0">
          ₩{{ format(product.priceKrWon) }}
        </h3>
        <h3 class="price">₩{{ format(product.price) }}</h3>
        <h3>{{ product.name }}</h3>
        <div class="desc">{{ product.description }}</div>
        <div class="discount">
          <div v-if="product.discountKrWon > 0">
            약
            <span class="cur">{{ product.discountRate.toFixed(1) }}%</span> 할인
          </div>
          <div v-else>할인 없음</div>
        </div>
      </div>
      <div v-if="minified" class="name-only">
        <h3>{{ product.name }}</h3>
      </div>
    </div>
  </div>
</template>

<script setup>
import { computed, defineProps, ref, defineEmits } from "vue";
import util from "../../service/util";
import Product from "../../entity/product";
import { useStore } from "vuex";
import AppIcon from "../AppIcon.vue";
import FormButton from "../form/FormButton.vue";

const themes = {
  red: {
    colorA: "rgb(254, 190, 88)",
    colorB: "rgb(222, 43, 174)",
  },
  blue: {
    colorA: "hsl(205, 69%, 80%)",
    colorB: "hsl(205, 69%, 40%)",
  },
  green: {
    colorA: "hsl(70, 69%, 80%)",
    colorB: "hsl(70, 69%, 40%)",
  },
};
const props = defineProps({
  product: Product,
  theme: String,
  paymentVisible: { type: Boolean, required: false, default: true },
  minified: { type: Boolean, required: false, default: false },
});
const emit = defineEmits(["order"]);
const store = useStore();
const user = computed(() => store.getters["user/currentUser"]);
const hovering = ref(false);
const format = (money) => util.currency.format(money);
const hover = (on) => {
  hovering.value = on;
};

const dispatchOrder = (method) => {
  emit("order", { method, product: props.product });
};
</script>

<style lang="scss" scoped>
@import "~@/assets/resizer";
$r: 40px;
$bsize: 4px;
.product {
  position: relative;
  overflow: hidden;
  padding: 0;
  box-shadow: 0 0px 8px 0 #3c40434d, 0 0px 4px 1px #3c404326;
  border-radius: 16px;
  .bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: $r * 2;
    z-index: 0;
    overflow: hidden;
    svg {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      transform: translate(-50%, -50%);
    }
  }

  .inner {
    position: relative;
    z-index: 5;
    padding: 20px;
    padding-top: $r * 3 + 16px;
    display: flex;
    flex-direction: column;
    align-items: center;

    background-color: white;
    overflow: hidden;
    height: 100%;
    .panel {
      position: absolute;
      top: $r * 2;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #0000004d;
      cursor: pointer;
      z-index: 10;
      .logo {
        box-shadow: 0 0 16px #0000004d;
        top: 0;
      }
      .option {
        position: absolute;
        top: $r * 4;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 16px;
        column-gap: 8px;

        > button {
          flex: 1 1 auto;
          background-color: white;
          border: 1px solid #000;
          border-radius: 8px;
          display: inline-flex;
          align-items: center;
          column-gap: 8px;
          &.disabled {
            background-color: #ececec;
            border-color: #9a9a9a;
            cursor: not-allowed;
          }
        }
        .login {
          background-color: white;
          position: absolute;
          left: 0;
          right: 0;
          bottom: 0;
          padding: 16px;
          p {
            margin-bottom: 16px;
            font-size: 1.15rem;
          }
        }
      }
    }
    .logo {
      position: absolute;
      top: $r * 2;
      left: 50%;
      width: 2 * $r + 2 * $bsize;
      height: 2 * $r + 2 * $bsize;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      // background-color: rgb(220, 255, 131);
      background-color: var(--logo-bg);
      color: white;
      transform: translate(-50%, -50%);
      border-radius: $r + $bsize;
      font-size: 28px;
      font-weight: 900;
      border: $bsize solid white;
      .dur {
        line-height: 1;
      }
      .sub {
        font-size: 1.2rem;
      }
    }
    h3 {
      margin-top: 12px;
      &.base-price {
        font-size: 1.5rem;
        color: rgb(152, 152, 152);
        position: relative;
        &::after,
        &::before {
          content: "";
          position: absolute;
          top: 50%;
          left: 0;
          width: 100%;
          height: 1px;
          background-color: #9b9b9b;
        }
        &::after {
          transform: rotate(6deg);
        }
        &::before {
          transform: rotate(-6deg);
        }
      }
      &.price {
        font-size: 2rem;
        font-weight: 900;
        // font-family: Rowdies, monospace, cursive, sans-serif;
      }
    }
    .desc {
      margin-top: 12px;
    }
    .discount {
      margin-top: 16px;
      font-size: 1.2rem;
    }
    .detail {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
  }
}
@include mobile {
  .product.minified {
    .inner {
      .detail {
        display: none;
      }
    }
  }
}
@include tablet {
  .product.minified {
    .inner {
      .name-only {
        display: none;
      }
    }
  }
}
@include desktop {
  .product.minified {
    .inner {
      .name-only {
        display: none;
      }
    }
  }
}
</style>
